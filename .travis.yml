language: go
sudo: false
go:
  - tip
  - 1.9.x
  - 1.8.x
  - 1.7.x

install:
  - go get -t ./...

before_script:
  - $(exit $(go fmt ./... | wc -l))

script:
  - go test -v -race ./...
